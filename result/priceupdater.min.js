!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="result",n(n.s=0)}([function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var r={},o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&t.target){this.ids=[];for(var n=document.querySelectorAll(t.target),a=0;a<n.length;a++){var o=n[a],u=o.getAttribute("id")||Math.random(),s=new i.default(o,t);r[u]=s,this.ids.push(u)}return 1==n.length?r[this.ids[0]]:void 0}console.error('PriceUpdate error: required "target" setting is empty!')}return a(e,[{key:"isPriceUpdater",get:function(){return!0}}]),e}();o.getById=function(e){if(e in r)return r[e]};new o({target:"[data-priceupdater]"});window.PriceUpdater=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(2),r=u(n(3)),o=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var s={value:0,currency:"$",space:!1,template:null,points:"",oldPrice:!1,oldValue:0,factor:0,animation:!1,duration:500,onChange:null,onReady:null,onAnimUpdate:null},l={value:"value",currency:"currency",space:"space",template:"template",points:"points",oldPrice:"old-price",oldValue:"old-value",factor:"factor",animation:"animation",duration:"duration",onChange:"on-change",onReady:"on-ready"},c=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=(0,i.fetchSettings)(n,s,l,t),this.element=t,this.value=parseFloat(n.value||t.innerText),this.currency=n.currency,this.space=n.space?" ":"",this.template=n.template,this.updatedValue=this.value,this.options={},this.activeList={},this.onChange=(0,i.getFunction)(n.onChange),this.onReady=(0,i.getFunction)(n.onReady),this.onAnimUpdate=(0,i.getFunction)(n.onAnimUpdate),n.animation&&(this.animation=new o.default({timing:(0,i.getFunction)(n.timing),duration:n.duration,onUpdate:function(e){a._insert(Math.round(e.value)),"function"==typeof a.onAnimUpdate&&a.onAnimUpdate(e)}})),this._getOldPrice(n.oldPrice,n.oldValue,n.factor),this._getOptions(n.points),"function"==typeof this.onReady&&this.onReady(this),this._insert(this.value)}return a(e,[{key:"_getOldPrice",value:function(e,t,n){var a=!!e&&document.querySelector(e);if(a){if(t||(t=parseFloat(a.innerText)),!t&&n)t=this.value*n;else if(t&&!n)n=t/this.value;else if(!n&&!t)return;this.oldElement=a,this.oldValue=t,this.factor=n}}},{key:"_getOptions",value:function(e){for(var t=e?"[data-target='"+e+"']":"[data-point]",n=document.querySelectorAll(t),a=0;a<n.length;a++)this.attachOption(n[a])}},{key:"_updateActiveList",value:function(e){var t=e.active,n=e.name;t?this.activeList[n]=e:delete this.activeList[n]}},{key:"_updatePrice",value:function(){var e=this.value;for(var t in this.activeList){var n=this.activeList[t],a=e-this.value;switch(n.operator){case"+":e+=n.value;break;case"-":e-=n.value;break;case"*":e=this.value*n.value+a;break;case"/":e=this.value/n.value+a;break;case"+%":e=this.value+this.value/100*n.value+a;break;case"-%":e=this.value-this.value/100*n.value+a}}this.animation?(this.animation.setInterpState(this.updatedValue,e),this.animation.play()):this._insert(e),this.updatedValue=e}},{key:"_insert",value:function(e){var t=this._draw(e);if(this.element.value=t,this.element.innerHTML=t,this.oldElement){var n=Math.round(this.factor*e);t=this._draw(n),this.oldElement.innerHTML=t,this.oldValue=n}}},{key:"_draw",value:function(e){return this.template?this.template.replace(/\{value\}/gi,e).replace(/\{currency\}/gi,this.currency):e+this.space+this.currency}},{key:"attachOption",value:function(e,t){var n=this,a=new r.default(e,t,function(e){n._updateActiveList(e),n._updatePrice(),"function"==typeof n.onChange&&n.onChange({value:n.value,updated:n.updatedValue,oldValue:n.oldValue})});this.options[a.name]=a}},{key:"isPrice",get:function(){return!0}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSettings=function(e,t,n,a){var i={};for(var r in t)if(void 0===e[r]){var o=a&&n[r]?a.getAttribute("data-"+n[r]):null,u=+o;""===o||"true"===o?o=!0:"false"===o?o=!1:null===o||isNaN(u)||(o=u),i[r]=null!==o?o:t[r]}else i[r]=e[r];return i},t.getFunction=function(e){return"string"==typeof e?new Function("e",e):"function"==typeof e?e:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var i=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.name=t.getAttribute("name")||Math.random(),this.type=t.getAttribute("type")||this.element.nodeName.toLowerCase(),this.onChange=a,"select"==this.type?this._data=this._getSelectData():this._data={operator:t.getAttribute("data-operator")||n||"+",value:parseFloat(t.value)};var i=this;this.element.addEventListener("change",function(e){"function"==typeof i.onChange&&i.onChange(i._getData())})}return a(e,[{key:"_getSelectData",value:function(){for(var e=[],t=this.element.querySelectorAll("option"),n=0;n<t.length;n++)e.push({operator:t[n].getAttribute("data-operator")||"+",value:parseFloat(t[n].value)});return e}},{key:"_getData",value:function(){var e={name:this.name,active:this.active};if(Array.isArray(this._data)){var t=this.element.selectedIndex,n=this._data[t];e.operator=n.operator,e.value=n.value}else e.operator=this._data.operator,e.value=this._data.value;return e}},{key:"active",get:function(){return"checkbox"==this.type||"radio"==this.type?this.element.checked:"select"==this.type&&!!this.element.options[this.element.selectedIndex].value}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function i(e){return e}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timing=t.timing||i,this.duration=t.duration||500,this.onUpdate=t.onUpdate,this.from=0,this.to=1,this._startTime=0,this._stopFlag=!1}return a(e,[{key:"setInterpState",value:function(e,t){this.from=e,this.to=t}},{key:"_update",value:function(e){var t,n=this,a=(e-this._startTime)/this.duration,i=this.from;a<0&&(a=0),a>1&&(a=1,this._stopFlag=!0),i+=(t=this.timing(a))*(this.to-this.from),this.onUpdate({value:i,progress:t}),this._stopFlag||requestAnimationFrame(function(e){n._update(e)})}},{key:"play",value:function(){this._stopFlag=!1,this._startTime=performance.now(),this._update(this._startTime)}},{key:"stop",value:function(){this._stopFlag=!0}}]),e}();t.default=r}]);