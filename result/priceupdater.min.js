!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="result",n(n.s=0)}([function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var r={},o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&t.target){this.ids=[];for(var n=document.querySelectorAll(t.target),i=0;i<n.length;i++){var o=n[i],u=o.getAttribute("id")||Math.random(),l=new a.default(o,t);r[u]=l,this.ids.push(u)}return 1==n.length?r[this.ids[0]]:void 0}console.error('PriceUpdate error: required "target" setting is empty!')}return i(e,[{key:"isPriceUpdater",get:function(){return!0}}]),e}();o.getById=function(e){if(e in r)return r[e]};new o({target:"[data-priceupdater]"});window.PriceUpdater=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),r=u(n(3)),o=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var l={value:0,currency:"$",points:"",oldPrice:!1,oldValue:0,factor:0,animation:!1,duration:700,onChange:null,onReady:null},s={oldPrice:"old-price",oldValue:"old-value",onChange:"on-change",onReady:"on-ready"},c=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=(0,a.fetchSettings)(n,l,s,t),this.element=t,this.value=parseFloat(n.value),this.currency=n.currency,this.updatedValue=this.value,this.options={},this.activeList={},n.animation&&(this.animation=new o.default({timing:(0,a.getFunction)(n.timing),duration:n.duration,onUpdate:function(e){return i._insert(Math.round(e))}})),this._getOldPrice(n.oldPrice,n.oldValue,n.factor),this._getOptions(n.points),this.onChange=(0,a.getFunction)(n.onChange),this.onReady=(0,a.getFunction)(n.onReady)}return i(e,[{key:"_getOldPrice",value:function(e,t,n){var i=!!e&&document.querySelector(e);if(i){if(t||(t=parseFloat(i.innerText)),!t&&n)t=this.value*n;else if(t&&!n)n=t/this.value;else if(!n&&!t)return;i.innerText=t+this.currency,this.oldElement=i,this.oldValue=t,this.factor=n}}},{key:"_getOptions",value:function(e){for(var t=e?"[data-target='"+e+"']":"[data-point]",n=document.querySelectorAll(t),i=0;i<n.length;i++)this.addOption(n[i])}},{key:"_updateActiveList",value:function(e){var t=e.active,n=e.name;t?this.activeList[n]=e:delete this.activeList[n]}},{key:"_updatePrice",value:function(){var e=this.value;for(var t in this.activeList){var n=this.activeList[t],i=e-this.value;switch(n.operator){case"+":e+=n.value;break;case"-":e-=n.value;break;case"*":e=this.value*n.value+i;break;case"/":e=this.value/n.value+i;break;case"+%":e=this.value+this.value/100*n.value+i;break;case"-%":e=this.value-this.value/100*n.value+i}}this.animation?(this.animation.setInterpState(this.updatedValue,e),this.animation.play()):this._insert(e),this.updatedValue=e}},{key:"_insert",value:function(e){if(this.element.value=e+this.currency,this.element.innerText=e+this.currency,this.oldElement){var t=Math.round(this.factor*e);this.oldElement.innerText=t+this.currency,this.oldValue=t}}},{key:"addOption",value:function(e,t){var n=this,i=new r.default(e,t,function(e){n._updateActiveList(e),n._updatePrice(),"function"==typeof n.onChange&&n.onChange({value:n.value,updated:n.updatedValue,oldValue:n.oldValue})});this.options[i.name]=i}},{key:"isPrice",get:function(){return!0}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSettings=function(e,t,n,i){var a={};for(var r in t)if(void 0===e[r]){var o=i?i.getAttribute("data-"+(n[r]||r)):null,u=+o;""===o||"true"===o?o=!0:"false"===o?o=!1:null===o||isNaN(u)||(o=u),a[r]=null!==o?o:t[r]}else a[r]=e[r];return a},t.getFunction=function(e){return"string"==typeof e?new Function("e",e):"function"==typeof e?e:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.name=t.getAttribute("name")||Math.random(),this.type=t.getAttribute("type")||this.element.nodeName.toLowerCase(),this.onChange=i,"select"==this.type?this._data=this._getSelectData():this._data={operator:t.getAttribute("data-operator")||n||"+",value:parseFloat(t.value)};var a=this;this.element.addEventListener("change",function(e){"function"==typeof a.onChange&&a.onChange(a._getData())})}return i(e,[{key:"_getSelectData",value:function(){for(var e=[],t=this.element.querySelectorAll("option"),n=0;n<t.length;n++)e.push({operator:t[n].getAttribute("data-operator")||"+",value:parseFloat(t[n].value)});return e}},{key:"_getData",value:function(){var e={name:this.name,active:this.active};if(Array.isArray(this._data)){var t=this.element.selectedIndex,n=this._data[t];e.operator=n.operator,e.value=n.value}else e.operator=this._data.operator,e.value=this._data.value;return e}},{key:"active",get:function(){return"checkbox"==this.type||"radio"==this.type?this.element.checked:"select"==this.type&&!!this.element.options[this.element.selectedIndex].value}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function a(e){return e}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timing=t.timing||a,this.duration=t.duration||700,this.onUpdate=t.onUpdate,this.from=0,this.to=1,this._startTime=0,this._stopFlag=!1}return i(e,[{key:"setInterpState",value:function(e,t){this.from=e,this.to=t}},{key:"_update",value:function(e){var t=this,n=(e-this._startTime)/this.duration,i=this.from;n<0&&(n=0),n>1&&(n=1,this._stopFlag=!0),i+=this.timing(n)*(this.to-this.from),this.onUpdate(i),this._stopFlag||requestAnimationFrame(function(e){t._update(e)})}},{key:"play",value:function(){this._stopFlag=!1,this._startTime=performance.now(),this._update(this._startTime)}},{key:"stop",value:function(){this._stopFlag=!0}}]),e}();t.default=r}]);